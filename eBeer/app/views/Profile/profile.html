#{extends 'main.html' /}
#{set title:'eBeer - '+user.username /}
<main class="container grey lighten-3">
    <div class="row valign">
        <div class="col s5 push-s1">
            <h3>My account</h3>
        </div>
	    #{if username && username.equals(user.username)}
	        <div class="col s6 valign right-align">
	        	<p></p>
	            <a href="/profile/${user.username}/edit" class="btn waves-effect waves-orange">&{'profile.edit'}</a>
	            <a href="/createsale" class="btn waves-effect waves-orange">&{'profile.createsale'}</a>
	        </div>
	    #{/if}
    </div>
    <div class="row">
        <div class="col s5 push-s1">&{'profile.username'}: ${user.username}<br/>&{'profile.email'}: ${user.email}</div>
        <br/><br/>
        <div class="col s10 push-s1">
            <h4 class="center-align">&{'profile.sales'}</h4>
            <div class="sale row">
              <table class="striped responsive-table">
		        <thead>
		          <tr>
		              <th data-field="beer">&{'profile.sales.beer'}</th>
		              <th data-field="quantity">&{'profile.sales.quantity'}</th>
		              <th data-field="startDate">&{'profile.sales.startdate'}</th>
		              <th data-field="state">&{'profile.sales.state'}</th>
		          </tr>
		        </thead>
		        <tbody>
			        #{list items:user.sales, as:'s'}
			          <tr>
			            <td>${s.product}</td>
			            <td>${s.quantity}</td>
			            <td>${s.startDate}</td>
			            <td>${s.state}</td>
			          </tr>
			        #{/list}
		        </tbody>
		      </table>
            </div>
        </div>
    </div>
</main>